{% extends "network/layout.html" %}

{% block body %} 
    <div class="text-center">
        <h3 id="following">{{ poster.username }}</h3>
    </div>

    <div class="text-center">
        <img src="{{poster.profile.image.url}}" class="rounded my-3" style="width: 200px; height: 200px;">
    </div>

    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-2">Followers: <a id="followercount">{{followers}}</a></div>
            <div class="col-2">Following: <a id="followingcount">{{followings}}</a></div>
        </div>
        <div class="row justify-content-center mt-4">
            {% if poster != request.user %}
                {% if user_follows %}
                    <button type="button" class="btn btn-danger follow">Unfollow</button>
                {% else %}
                    <button type="button" class="btn btn-success follow">Follow</button>
                {% endif %}
            {% endif %}
        </div>
    </div>

   
    {% for post,like_count,likes in fullposts %}
        <div class="border rounded p-3 mt-3">
            <a href="{% url 'profile' post.poster %}"><h4>{{post.poster}}</h4></a>
            <hr>
            {% if user.is_authenticated %}
                {% if user == post.poster %}
                    <!-- Edit btn -->
                    <button type="button" class="btn btn-outline-primary my-2" onclick="edit('{{post.id}}',this)">Edit</button>
                    <button type="button" class="btn btn-outline-primary my-2" onclick="deletepost('{{post.id}}',this)" style="float: right;">Delete</button>

                {% endif %}
            {% endif %}
            <pre style="font-size: large; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">{{ post.post }}</pre>
            <p>{{post.datetime}}</p>
            {% if not likes %}
                <p><i class="fa fa-heart-o" style="font-size:20px;color:red" onclick="heart('{{post.id}}', this)"></i><span class="ml-2">{{ like_count }}</span></p>
            {% else %}
                <p><i class="fa fa-heart" style="font-size:20px;color:red" onclick="heart('{{post.id}}', this)"></i><span class="ml-2">{{ like_count }}</span></p>
            {% endif %}
            <p>Comment</p>
        </div>
    {% endfor %}
    <hr>

{% endblock %}